<database defaultIdMethod="native" package="planning.classes" name="application" >
 	<!--Tablas de modulo planeamiento-->

	<table name="planning_objective" phpName="PlanningObjective" description="Objetivos">
		<column name="id" primaryKey="true" type="INTEGER" description="Id del objetivo" autoIncrement="true" />
		<column name="name" required="true" type="VARCHAR" size="255" description="Enunciado del objetivo" primaryString="true" />
		<column name="description" type="LONGVARCHAR" description="Descripcion del objetivo"/>
		<column name="userId" type="INTEGER" description="User Id " />
		<column name="startingYear" type="INTEGER" description="A#o de inicio" />
		<column name="endingYear" type="INTEGER" description="A#o de finalizacion" />
	
		<foreign-key foreignTable="users_user" >
			<reference local="userId" foreign="id" />
		</foreign-key>

		<vendor type="mysql">
			<parameter name="Charset" value="utf8"/>
			<parameter name="Collate" value="utf8_general_ci"/>
		</vendor>

	</table>


	<table name="planning_impactObjective" phpName="ImpactObjective" description="Objetivos de Impacto">
		<column name="id" required="true" primaryKey="true" autoIncrement="true" type="INTEGER" />
		<column name="objectiveId" type="INTEGER" description="Id del objetivo" />
		<column name="contextualFactors" type="VARCHAR" size="255" description="Factores contextuales" />

	  <foreign-key foreignTable="planning_objective">
	    <reference local="objectiveId" foreign="id" />
	  </foreign-key>

	  <behavior name="delegate">
	    <parameter name="to" value="planning_objective" />
	  </behavior>

		<vendor type="mysql">
			<parameter name="Charset" value="utf8"/>
			<parameter name="Collate" value="utf8_general_ci"/>
		</vendor>

	</table>


	<table name="planning_ministryObjective" phpName="MinistryObjective" description="Objetivos ministeriales">
		<column name="id" required="true" primaryKey="true" autoIncrement="true" type="INTEGER" />
		<column name="objectiveId" type="INTEGER" description="Id del objetivo" />
		<column name="objectivePopulationAge" type="INTEGER" description="Id de edad de poblacion objetivo" />
		<column name="objectivePopulationGender" type="INTEGER" description="Id de genero de poblacion objetivo" />
		<column name="objectivePopulationGroup" type="INTEGER" description="Id de grupo de poblacion objetivo" />

	  <foreign-key foreignTable="planning_objective">
	    <reference local="objectiveId" foreign="id" />
	  </foreign-key>

	  <behavior name="delegate">
	    <parameter name="to" value="planning_objective" />
	  </behavior>

		<vendor type="mysql">
			<parameter name="Charset" value="utf8"/>
			<parameter name="Collate" value="utf8_general_ci"/>
		</vendor>

	</table>

	<table name="planning_operativeObjective" phpName="OperativeObjective" description="Objetivos operativos">
		<column name="id" required="true" primaryKey="true" autoIncrement="true" type="INTEGER" />
		<column name="objectiveId" type="INTEGER" description="Id del objetivo" />
		<column name="objectivePopulationAge" type="INTEGER" description="Id de edad de poblacion objetivo" />
		<column name="objectivePopulationGender" type="INTEGER" description="Id de genero de poblacion objetivo" />
		<column name="objectivePopulationGroup" type="INTEGER" description="Id de grupo de poblacion objetivo" />

	  <foreign-key foreignTable="planning_objective">
	    <reference local="objectiveId" foreign="id" />
	  </foreign-key>

	  <behavior name="delegate">
	    <parameter name="to" value="planning_objective" />
	  </behavior>

		<vendor type="mysql">
			<parameter name="Charset" value="utf8"/>
			<parameter name="Collate" value="utf8_general_ci"/>
		</vendor>

	</table>

</database>