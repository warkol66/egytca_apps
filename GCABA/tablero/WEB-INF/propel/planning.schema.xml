<database defaultIdMethod="native" package="planning.classes" name="application" >
	<!--Tablas de modulo planeamiento-->

	<table name="planning_objective" phpName="PlanningObjective" description="Objetivos">
		<column name="id" primaryKey="true" type="INTEGER" description="Id del objetivo" autoIncrement="true" />
		<column name="name" required="true" type="VARCHAR" size="255" description="Enunciado del objetivo" primaryString="true" />
		<column name="description" type="LONGVARCHAR" description="Descripcion del objetivo"/>
		<column name="userId" type="INTEGER" description="User Id " />
		<column name="startingYear" type="INTEGER" description="A#o de inicio" />
		<column name="endingYear" type="INTEGER" description="A#o de finalizacion" />
		<column name="version" type="INTEGER" description="Numero de version" />

		<foreign-key foreignTable="users_user" >
			<reference local="userId" foreign="id" />
		</foreign-key>

 		<behavior name="timestampable" />

  	<behavior name="versionable">
	    <parameter name="version_column" value="version" />
<!--			<parameter name="log_created_at" value="true" />
			<parameter name="log_created_by" value="true" />
			<parameter name="log_comment" value="true" />-->
		</behavior>

		<behavior name="archivable" />

		<vendor type="mysql">
			<parameter name="Charset" value="utf8"/>
			<parameter name="Collate" value="utf8_general_ci"/>
		</vendor>

	</table>


	<table name="planning_impactObjective" phpName="ImpactObjective" description="Objetivos de Impacto">
		<column name="id" primaryKey="true" type="INTEGER" description="Id del objetivo" autoIncrement="true" />
		<column name="name" required="true" type="VARCHAR" size="255" description="Enunciado del objetivo" primaryString="true" />
		<column name="description" type="LONGVARCHAR" description="Descripcion del objetivo"/>
		<column name="startingYear" type="INTEGER" description="A#o de inicio" />
		<column name="endingYear" type="INTEGER" description="A#o de finalizacion" />
		<column name="contextualFactors" type="VARCHAR" size="255" description="Factores contextuales" />
		<column name="version" type="INTEGER" description="Numero de version" />
	  <column name="userObjectType" type="VARCHAR" size="100" description="tipo de objeto usuario realizo la accion"/>
	  <column name="userObjectId" type="INTEGER" description="id de objeto usuario realizo la accion"/>

  	<behavior name="timestampable" />

  	<behavior name="versionable">
	    <parameter name="version_column" value="version" />
		</behavior>

		<behavior name="archivable">
		  <parameter name="log_archived_at" value="true" />
		</behavior>

		<vendor type="mysql">
			<parameter name="Charset" value="utf8"/>
			<parameter name="Collate" value="utf8_general_ci"/>
		</vendor>

	</table>


	<table name="planning_ministryObjective" phpName="MinistryObjective" description="Objetivos ministeriales">
		<column name="id" primaryKey="true" type="INTEGER" description="Id del objetivo" autoIncrement="true" />
		<column name="name" required="true" type="VARCHAR" size="255" description="Enunciado del objetivo" primaryString="true" />
		<column name="description" type="LONGVARCHAR" description="Descripcion del objetivo"/>
		<column name="userId" type="INTEGER" description="User Id " />
		<column name="startingYear" type="INTEGER" description="A#o de inicio" />
		<column name="endingYear" type="INTEGER" description="A#o de finalizacion" />
		<column name="objectivePopulationAge" type="INTEGER" description="Id de edad de poblacion objetivo" />
		<column name="objectivePopulationGender" type="INTEGER" description="Id de genero de poblacion objetivo" />
		<column name="objectivePopulationGroup" type="INTEGER" description="Id de grupo de poblacion objetivo" />
		<column name="version" type="INTEGER" description="Numero de version" />

		<foreign-key foreignTable="users_user" >
			<reference local="userId" foreign="id" />
		</foreign-key>

		<behavior name="versionable">
	    <parameter name="version_column" value="version" />
<!--			<parameter name="log_created_at" value="true" />
			<parameter name="log_created_by" value="true" />
			<parameter name="log_comment" value="true" />-->
		</behavior>

		<behavior name="archivable" />

		<vendor type="mysql">
			<parameter name="Charset" value="utf8"/>
			<parameter name="Collate" value="utf8_general_ci"/>
		</vendor>

	</table>

	<table name="planning_operativeObjective" phpName="OperativeObjective" description="Objetivos operativos">
		<column name="id" primaryKey="true" type="INTEGER" description="Id del objetivo" autoIncrement="true" />
		<column name="name" required="true" type="VARCHAR" size="255" description="Enunciado del objetivo" primaryString="true" />
		<column name="description" type="LONGVARCHAR" description="Descripcion del objetivo"/>
		<column name="userId" type="INTEGER" description="User Id " />
		<column name="startingYear" type="INTEGER" description="A#o de inicio" />
		<column name="endingYear" type="INTEGER" description="A#o de finalizacion" />
		<column name="objectivePopulationAge" type="INTEGER" description="Id de edad de poblacion objetivo" />
		<column name="objectivePopulationGender" type="INTEGER" description="Id de genero de poblacion objetivo" />
		<column name="objectivePopulationGroup" type="INTEGER" description="Id de grupo de poblacion objetivo" />
		<column name="version" type="INTEGER" description="Numero de version" />

		<foreign-key foreignTable="users_user" >
			<reference local="userId" foreign="id" />
		</foreign-key>

		<behavior name="versionable">
	    <parameter name="version_column" value="version" />
<!--			<parameter name="log_created_at" value="true" />
			<parameter name="log_created_by" value="true" />
			<parameter name="log_comment" value="true" />-->
		</behavior>

		<behavior name="archivable" />

		<vendor type="mysql">
			<parameter name="Charset" value="utf8"/>
			<parameter name="Collate" value="utf8_general_ci"/>
		</vendor>

	</table>

</database>