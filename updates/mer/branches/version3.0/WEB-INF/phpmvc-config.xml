<?xml version="1.0" encoding="ISO-8859-1" ?>
<?php
/**
* Define Actions del phpMVC
*
* $author Modulos Empresarios / Egytca
* @package phpMVCconfig
*/
?>

<!DOCTYPE phpmvc-config PUBLIC "-//PHPMVC//DTD PHPMVC Configuration 1.0//EN"
					"./phpmvc-config_1_1.dtd">

<phpmvc-config>

<!-- ========== Form Bean Definitions =================================== -->

	<form-beans>
<!-- Smarty type form handling bean -->
		<form-bean name="demoPage" 
							 type="DemoPageForm"/>
	</form-beans>

<!-- ========== Action Mapping Definitions ============================== -->

  <action-mappings>
    <action    path = "index"
               type = "IndexAction"
               name = "index"
              scope = "request"
           validate = "true">
    	<forward name="success" path="mer_index.tpl" />
    </action>
    <action    path = "welcome"
               type = "WelcomeAction"
               name = "welcome"
              scope = "request"
           validate = "true">
    <forward name="success" path="mer_welcome.tpl" />
    </action>
    
	</action-mappings>

<!-- ========== Action Mapping Module Users  ============================== -->




<!-- Module Languages -->
  <action-mappings>
    <action    path = "languagesEdit"
               type = "LanguagesEditAction"
               name = "languagesEdit"
              scope = "request"
           validate = "true">
    <forward name="success" path="languages_edit.tpl" />
    </action>

    <action    path = "languagesDoEdit"
               type = "LanguagesDoEditAction"
               name = "languagesDoEdit"
              scope = "request"
           validate = "true">
    <forward name="success" path="Main.php?do=languagesList&amp;message=ok" redirect="true" />
    <forward name="failure" path="languages_edit.tpl" />
    </action>

    <action    path = "languagesList"
               type = "LanguagesListAction"
               name = "languagesList"
              scope = "request"
           validate = "true">
    <forward name="success" path="languages_list.tpl" />
    </action>

    <action    path = "languagesDoDelete"
               type = "LanguagesDoDeleteAction"
               name = "languagesDoDelete"
              scope = "request"
           validate = "true">
    <forward name="success" path="Main.php?do=languagesList&amp;message=deleted_ok" redirect="true" />
    </action>
  </action-mappings>
<!-- End Module Languages -->

<!-- Module Texts -->
  <action-mappings>
    <action    path = "textsEdit"
               type = "TextsEditAction"
               name = "textsEdit"
              scope = "request"
           validate = "true">
    <forward name="success" path="texts_edit.tpl" />
    </action>

    <action    path = "textsDoEdit"
               type = "TextsDoEditAction"
               name = "textsDoEdit"
              scope = "request"
           validate = "true">
    <forward name="success" path="Main.php?do=textsList&amp;message=ok" redirect="true" />
    <forward name="failure" path="texts_edit.tpl" />
    </action>

    <action    path = "textsList"
               type = "TextsListAction"
               name = "textsList"
              scope = "request"
           validate = "true">
    <forward name="success" path="texts_list.tpl" />
    </action>
    
    <action    path = "textsDump"
               type = "TextsDumpAction"
               name = "textsDump"
              scope = "request"
           validate = "true">
    <forward name="success" path="texts_dump.tpl" />
    </action>

    <action    path = "textsDoDelete"
               type = "TextsDoDeleteAction"
               name = "textsDoDelete"
              scope = "request"
           validate = "true">
    <forward name="success" path="Main.php?do=textsList&amp;message=deleted_ok" redirect="true" />
    </action>
  </action-mappings>
<!-- End Module Texts -->

  
	<action-mappings          module = "documents">

		<action    path = "documentsList"
					     type = "DocumentsListAction"
					     name = "documentsList"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="documents_list.tpl"/>
		</action>

				<action    path = "documentsSelectCategory"
					     type = "DocumentsSelectCategoryAction"
					     name = "documentsSelectCategory"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="documents_select_category.tpl"/>
		</action>
		
		<action    path = "documentsEdit"
					     type = "DocumentsEditAction"
					     name = "documentsEdit"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="documents_edit.tpl"/>
		</action>

		<action    path = "documentsUpload"
					     type = "DocumentsUploadAction"
					     name = "documentsUpload"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="documents_upload.tpl"/>
		</action>

		<action    path = "documentsDoUpload"
					     type = "DocumentsDoUploadAction"
					     name = "documentsDoUpload"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="Main.php?do=documentsSelectCategory" redirect="true"/>
		</action>
		
		<action    path = "documentsDoDownload"
					     type = "DocumentsDoDownloadAction"
					     name = "documentsDoDownload"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="Main.php?do=documentsSelectCategory" redirect="true"/>
		</action>

		<action    path = "documentsDoEdit"
					     type = "DocumentsDoEditAction"
					     name = "documentsDoEdit"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="Main.php?do=documentsSelectCategory" redirect="true"/>
			<forward name="failure" path="documents_edit.tpl"/>

		</action>
			<action    path = "documentsDoDelete"
					     type = "DocumentsDoDeleteAction"
					     name = "documentsDoDeleteAction"
					    scope = "request"
					 validate = "true">
			<forward name="success" path="Main.php?do=documentsList" redirect="true"/>
		</action>
	</action-mappings>



<!-- ========== PlugIns ================================================= -->

	<!-- Load our PlugIn class here (case sensetive class name)					     -->
	<!-- Note: The attribute names must match the class methods					     -->
	<!-- Eg: 'key' maps to 'setKey(..)'															         -->
	<plug-in className="SmartyMLPlugInDriver"
								 key="SMARTY_PLUGIN">
		<!-- And set some custom propertied on the PlugIn class					       -->
		<!-- Note: The property name must match the class variable name exactly -->
		<set-property property="caching"       value="0"/>
		<set-property property="force_compile" value="true"/>
		<set-property property="template_dir"  value="WEB-INF/tpl/"/>
		<set-property property="compile_dir"   value="WEB-INF/smarty_tpl/templates_c/"/>
		<set-property property="config_dir"    value="WEB-INF/smarty_tpl/configs/"/>
		<set-property property="cache_dir"     value="WEB-INF/smarty_tpl/cache/"/>
		<set-property property="left_delimiter"    value="|-"/>
		<set-property property="right_delimiter"     value="-|"/>
	</plug-in>

</phpmvc-config>
